<!DOCTYPE html>
<html lang="zh-cn">
    <!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
  <meta name="color-scheme" content="light dark">
  
  <title>Tankgame - ATP</title>
  
    <link rel="shortcut icon" href="/images.png">
  
  
    <link rel='manifest' href='/manifest.json'>
  

  
<link rel="stylesheet" href="/css/var.css">

  
<link rel="stylesheet" href="/css/main.css">

  
<link rel="stylesheet" href="/css/typography.css">

  
<link rel="stylesheet" href="/css/code-highlighting.css">

  
<link rel="stylesheet" href="/css/components.css">

  
<link rel="stylesheet" href="/css/nav.css">

  
<link rel="stylesheet" href="/css/paginator.css">

  
<link rel="stylesheet" href="/css/footer.css">

  
<link rel="stylesheet" href="/css/post-list.css">

  
<link rel="stylesheet" href="/css/waline.css">

  
  
  
<link rel="stylesheet" href="/css/post.css">

  

  
    
<script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
 
  

  
<meta name="generator" content="Hexo 6.0.0"></head>
    <body data-color-scheme="dark">
        <nav id="theme-nav">
    <div class="inner">
        <a class="title" href="/">ATP</a>
        <div class="nav-arrow"></div>
        <div class="nav-items">
            <a class="nav-item nav-item-home" href="/">主页</a>
            
            
            <a class="nav-item" href="/archives">Archives</a>
            
            
            
            <a class="nav-item" href="/projectss">Projects</a>
            
            
            
            <a class="nav-item" href="/photos">Photos</a>
            
            
            
            <a class="nav-item" href="/about">About</a>
            
            
            
            <a class="nav-item nav-item-github nav-item-icon" href="https://github.com/edmond-j-a" target="_blank">&nbsp;</a>
            
            
        </div>
    </div>
</nav>
        <article class="post">
    <div class="meta">
        
        <div class="date" id="date">
            
            
            
            
            
            
            <span>June</span>
            
            
            
            
            
            
            
            <span>25,</span>
            <span>2020</span>
        </div>
        

        <h2 class="title">Tankgame</h2>
    </div>

    <div class="divider"></div>

    <div class="content">
        <p>大一时候的一次课程设计，通过Qt实现一个简易版的坦克大战，由于课设报告已经不见了，打算在此来记录一下，同时也能发现自己过去写代码时的一些不足之处。</p>
<h1 id="整体结构"><a href="#整体结构" class="headerlink" title="整体结构"></a>整体结构</h1><p>当初写代码时，并不是很喜欢分多个头文件来完成一个工程，所有整个工程只有一个Qt自动生成的mainwindow.h以及两个.cpp文件组成。后面渐渐养成了分头文件的习惯，再阅读起之前的代码也意识到了这么做的好处，不仅方便阅读也便于日后的维护。</p>
<p>在项目中我定义了两个结构体，bullet与explose，bullet用于表示坦克打出的子弹，其有记录位置的posx，posy属性，记录飞行方向的direction属性，以及后面判定碰撞所使用的from属性用于记录伤害来源。每当执行子弹更新时，系统迭代遍历所有子弹的direction，根据其值使该子弹的posx或posy加上或减去一个值，以此来达到子弹移动的效果。同时，每次移动都会进行一次碰撞检测，检测该子弹所在的这一格有没有敌对坦克，若有子弹销毁，敌对坦克生命值减一，当生命值为0时销毁该坦克，并以该点位置坐标生成一个idx为0的explose用于爆炸动画的播放。</p>
<p>explose则是我专门用来记录爆炸位置的一个结构，其只有x，y用来记录坐标，以及idx用来记录当前播放第几帧动画。其核心思想是，当更新爆炸动画时，迭代器遍历所有场上存在的explose，在对应位置播放对应其当前idx的那一帧，当idx等于爆炸最大帧数时，将该爆炸移出队列。由于当时并没有学会多线程编程，导致所有的工作不论是绘图还是计算，还是获取玩家输入，都需要在主线程中完成，这样造成的问题有很多，如无法精确控制刷新时间，由于程序存在一定量计算，就会无形中给游戏动画更新减速，也导致游戏后期难以做大（若运算量较大时，可能会出现ppt播放的感觉）。</p>
<p>本工程中唯一一个自定义类Tank,其中posx，posy用于确定坦克的位置，attcking，moving是两个状态属性，表示坦克正在攻击或移动，在一次攻击或移动完成前会拒绝新的相同类型的请求防止坦克攻速或移速过快。health用于记录坦克生命值，当其等于0时摧毁坦克，当一边阵营坦克全部摧毁时，游戏结束。坦克的direction变量是一个数组，用于保存四个方向的贴图，用于动画显示，ingrass用于记录坦克是否在草丛中，系统会通过检测每一个坦克的该变量确认是否显示该坦克以达到进草隐身的效果。坦克只有两个方法，emove和shoot当坦克属于电脑阵营时，会调用emove函数进行随机移动或射击，shoot用于发射一颗属于自己阵营的子弹。</p>
<p><em>mainwindow.h</em></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> MAINWINDOW_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAINWINDOW_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WIWIDTH 1014</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WIHEIGHT 1014</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SWIDTH 38</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UP 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RIGHT 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DOWN 2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LEFT 3</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BRICK 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IRON 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GRASS 2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WATER 3</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EMPTY 4</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> HOME 5</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PLAYER 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BULLET 2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QMainWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line">QT_BEGIN_NAMESPACE</span><br><span class="line"><span class="keyword">namespace</span> Ui &#123; <span class="class"><span class="keyword">class</span> <span class="title">MainWindow</span>;</span> &#125;</span><br><span class="line">QT_END_NAMESPACE</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">bullet</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> posx,posy,direction,form;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">explose</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x,y,idx=<span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tank</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> posx,posy,idex,health,attacking=<span class="number">0</span>,type,moving=<span class="number">0</span>,start=<span class="number">4</span>;</span><br><span class="line">    QPixmap direction[<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">bool</span> ingrass=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">Tank</span>();</span><br><span class="line">    <span class="built_in">Tank</span>(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> index);</span><br><span class="line">    <span class="built_in">Tank</span>(<span class="keyword">int</span> ty);</span><br><span class="line">    ~<span class="built_in">Tank</span>();</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">emove</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">shoot</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">block</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainWindow</span> :</span> <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">MainWindow</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">MainWindow</span>();</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">paintEvent</span><span class="params">(QPaintEvent *event)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">picini</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">timerEvent</span><span class="params">(QTimerEvent *event)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">keyPressEvent</span><span class="params">(QKeyEvent *event)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> eventID1,eventIDbull,CD,MOVING,ENEMYMOVE,enemynumber=<span class="number">7</span>,enemyleft=<span class="number">10</span>,POWER,EXPLOSE;</span><br><span class="line">    <span class="keyword">int</span> test=<span class="number">0</span>;</span><br><span class="line">    std::vector&lt;Tank&gt; eTank;</span><br><span class="line">    std::vector&lt;explose&gt; exp;</span><br><span class="line">    <span class="keyword">int</span> GAME=<span class="number">1</span>;</span><br><span class="line">    Tank player;</span><br><span class="line">    Ui::MainWindow *ui;</span><br><span class="line">    QPixmap backg,gameover,ground[<span class="number">5</span>],bulletpic[<span class="number">4</span>],summon[<span class="number">4</span>],explosion[<span class="number">4</span>],winpic;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// MAINWINDOW_H</span></span></span><br></pre></td></tr></table></figure>

<p><em>main.cpp</em></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;mainwindow.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QApplication&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">QApplication <span class="title">a</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line">    MainWindow w;</span><br><span class="line">    w.<span class="built_in">show</span>();</span><br><span class="line">    <span class="keyword">return</span> a.<span class="built_in">exec</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="功能详解"><a href="#功能详解" class="headerlink" title="功能详解"></a>功能详解</h1><p>首先，程序会调用mapini函数进行地图初始化，由于当时不清楚qt文件载入的诸多事项，所以用了个笨方法，写了个脚本，手动初始化地图，实际上可以采用Qfile去读取文件，并进行地图有数组的初始化。地图是一个26*26的二维数组，通过在其中存入不同的值，表示不同地形。这里可以在mainwindow.h的define中体现出来：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BRICK 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IRON 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GRASS 2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WATER 3</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EMPTY 4</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> HOME 5</span></span><br></pre></td></tr></table></figure>

<p>初始完成后开始载入所有图片，同时系统会随机在地图最上方的空格中生成enemyleft辆坦克，这里设置的是十辆。</p>
<p>通过Tank类的构造函数Tank(int x,int y,int index)进行初始化下x,y用于初始化坦克位置，在生成地方坦克时y会一直给0以实现在最上方生成的效果，x则在无遮挡处用随机数种子进行生成。Tank(int ty)用于生成玩家坦克ty表示阵营，所以在生成玩家时ty只会给0。</p>
<p>shoot函数通过获取坦克当前方向位置生成子弹，生成的子弹会放入vector<bullet> allbullet中在timerEvent更新子弹事件触发时会统一更新位置。</p>
<p>emove函数则是电脑通过随机数随机移动坦克或让坦克进行攻击的函数，其逻辑是百分之30的概率坦克掉头，百分之70的概率坦克往当前方向移动一步，且每次都有百分之30的概率会向前发射一枚子弹。</p>
<p>keyPressEvent事件用于获取玩家输入让坦克执行对应操作。</p>
<p>paintEvent事件用于绘制窗口，通过遍历所有元素坐标在对应位置绘制贴图实现动画效果。在timerEvent中有一个timeID用于调用repaint函数以实现定时绘制的效果。此外timerEvent中其它time ID作用分别是，定期调用每辆地方坦克的移动方法，以及更新子弹位置，更新爆炸帧数（若存在爆炸）。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;mainwindow.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;ui_mainwindow.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;QPainter&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;QKeyEvent&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">int</span> mmap[<span class="number">26</span>][<span class="number">26</span>];</span><br><span class="line">std::vector&lt;bullet&gt; allbullet;</span><br><span class="line">MainWindow::<span class="built_in">MainWindow</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QMainWindow</span>(parent)</span><br><span class="line">    , <span class="built_in">ui</span>(<span class="keyword">new</span> Ui::MainWindow)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">    player=<span class="built_in">Tank</span>(<span class="number">0</span>) ;</span><br><span class="line">    <span class="built_in">picini</span>();</span><br><span class="line">    eventID1=<span class="built_in">startTimer</span>(<span class="number">1</span>);</span><br><span class="line">    eventIDbull=<span class="built_in">startTimer</span>(<span class="number">50</span>);</span><br><span class="line">    ENEMYMOVE=<span class="built_in">startTimer</span>(<span class="number">500</span>);</span><br><span class="line">    POWER=<span class="built_in">startTimer</span>(<span class="number">125</span>);</span><br><span class="line">    <span class="built_in">srand</span>(<span class="built_in">time</span>(<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">int</span> x,index;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;enemyleft;i++)</span><br><span class="line">    &#123;</span><br><span class="line">       x=<span class="built_in">rand</span>()%<span class="number">26</span>;</span><br><span class="line">       index=<span class="built_in">rand</span>()%<span class="number">4</span>;</span><br><span class="line">       <span class="function">Tank <span class="title">a</span><span class="params">(x,<span class="number">0</span>,index)</span></span>;</span><br><span class="line">       eTank.<span class="built_in">push_back</span>(a);</span><br><span class="line">    &#125;</span><br><span class="line">    EXPLOSE=<span class="built_in">startTimer</span>(<span class="number">250</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MainWindow::~<span class="built_in">MainWindow</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mmapini</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//初始化地图</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::picini</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">mmapini</span>();</span><br><span class="line">    <span class="function">QPixmap <span class="title">pic1</span><span class="params">(QString(<span class="string">&quot;:/new/prefix1/Graphics/BackGround.jpg&quot;</span>))</span>,<span class="title">pic2</span><span class="params">(QString(<span class="string">&quot;:/new/prefix1/Graphics/UIGameOver.bmp&quot;</span>))</span>,<span class="title">pic3</span><span class="params">(QString(<span class="string">&quot;:/new/prefix1/Graphics/Map.png&quot;</span>))</span>,<span class="title">pic4</span><span class="params">(QString(<span class="string">&quot;:/new/prefix1/Graphics/Bullect.bmp&quot;</span>))</span>,<span class="title">pic5</span><span class="params">(QString(<span class="string">&quot;:/new/prefix1/Graphics/Born.bmp&quot;</span>))</span>,<span class="title">pic6</span><span class="params">(QString(<span class="string">&quot;:/new/prefix1/Graphics/Explode1.bmp&quot;</span>))</span>,<span class="title">pic7</span><span class="params">(QString(<span class="string">&quot;:/new/prefix1/Graphics/Explode2.bmp&quot;</span>))</span>,<span class="title">pic8</span><span class="params">(QString(<span class="string">&quot;:/new/prefix1/Graphics/win.png&quot;</span>))</span></span>;</span><br><span class="line">    backg=pic1;</span><br><span class="line">    gameover=pic2;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        QPixmap temp=pic3.<span class="built_in">copy</span>(i*<span class="number">32</span>,<span class="number">0</span>,<span class="number">32</span>,<span class="number">32</span>);</span><br><span class="line">        ground[i]=temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        QPixmap temp=pic4.<span class="built_in">copy</span>(i*<span class="number">8</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">8</span>);</span><br><span class="line">        bulletpic[i]=temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        QPixmap temp=pic5.<span class="built_in">copy</span>(i*<span class="number">32</span>,<span class="number">0</span>,<span class="number">32</span>,<span class="number">32</span>);</span><br><span class="line">        summon[i]=temp;</span><br><span class="line">    &#125;</span><br><span class="line">    explosion[<span class="number">0</span>]=pic6;</span><br><span class="line">    explosion[<span class="number">1</span>]=pic7;</span><br><span class="line">    winpic=pic8;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::paintEvent</span><span class="params">(QPaintEvent *event)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">QPainter <span class="title">painter</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    painter.<span class="built_in">drawPixmap</span>(<span class="number">-10</span>,<span class="number">-10</span>,WIWIDTH+<span class="number">10</span>,WIHEIGHT+<span class="number">10</span>,backg);</span><br><span class="line">    <span class="keyword">if</span>(GAME==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">26</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">26</span>;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(mmap[i][j]&lt;<span class="number">4</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    painter.<span class="built_in">drawPixmap</span>(i*SWIDTH,j*SWIDTH,SWIDTH,SWIDTH,ground[mmap[i][j]]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(mmap[i][j]==<span class="number">4</span>)</span><br><span class="line">                &#123;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(mmap[i][j]==<span class="number">5</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    painter.<span class="built_in">drawPixmap</span>(i*SWIDTH,j*SWIDTH,SWIDTH,SWIDTH,ground[<span class="number">4</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;eTank.<span class="built_in">size</span>();i++)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">if</span>(!eTank[i].ingrass)</span><br><span class="line">               &#123;</span><br><span class="line">                    painter.<span class="built_in">drawPixmap</span>(SWIDTH*eTank[i].posx,SWIDTH*eTank[i].posy,SWIDTH,SWIDTH,eTank[i].direction[eTank[i].idex]);</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">if</span>(eTank[i].start&gt;<span class="number">0</span>)</span><br><span class="line">               &#123;</span><br><span class="line">                   painter.<span class="built_in">drawPixmap</span>(SWIDTH*eTank[i].posx,SWIDTH*eTank[i].posy,SWIDTH,SWIDTH,summon[<span class="number">5</span>-eTank[i].start]);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;allbullet.<span class="built_in">size</span>();i++)</span><br><span class="line">           &#123;</span><br><span class="line">               painter.<span class="built_in">drawPixmap</span>(allbullet[i].posx*SWIDTH+<span class="number">15</span>,allbullet[i].posy*SWIDTH+<span class="number">15</span>,<span class="number">8</span>,<span class="number">8</span>,bulletpic[allbullet[i].direction]);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span>(!player.ingrass)</span><br><span class="line">        &#123;</span><br><span class="line">            painter.<span class="built_in">drawPixmap</span>(player.posx*SWIDTH,player.posy*SWIDTH,SWIDTH,SWIDTH,player.direction[player.idex]);</span><br><span class="line">        &#125;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;exp.<span class="built_in">size</span>();i++)</span><br><span class="line">           &#123;</span><br><span class="line">                painter.<span class="built_in">drawPixmap</span>(SWIDTH*exp[i].x,SWIDTH*exp[i].y,SWIDTH,SWIDTH,explosion[exp[i].idx]);</span><br><span class="line">           &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(GAME==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        painter.<span class="built_in">drawPixmap</span>(WIWIDTH/<span class="number">4</span>,WIHEIGHT/<span class="number">4</span>,WIWIDTH/<span class="number">2</span>,WIHEIGHT/<span class="number">2</span>,gameover);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(GAME==<span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        painter.<span class="built_in">drawPixmap</span>(<span class="number">0</span>,<span class="number">0</span>,WIWIDTH,WIHEIGHT,winpic);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::timerEvent</span><span class="params">(QTimerEvent *event)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(event-&gt;<span class="built_in">timerId</span>()==eventID1)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">repaint</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(event-&gt;<span class="built_in">timerId</span>()==eventIDbull)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;allbullet.<span class="built_in">size</span>();i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> excute=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(mmap[allbullet[i].posx][allbullet[i].posy]==IRON)</span><br><span class="line">            &#123;</span><br><span class="line">                allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(mmap[allbullet[i].posx][allbullet[i].posy]==BRICK)</span><br><span class="line">            &#123;</span><br><span class="line">                mmap[allbullet[i].posx][allbullet[i].posy]=EMPTY;</span><br><span class="line">                allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(mmap[allbullet[i].posx][allbullet[i].posy]==HOME)</span><br><span class="line">            &#123;</span><br><span class="line">                GAME=<span class="number">0</span>;</span><br><span class="line">                <span class="built_in">repaint</span>();</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(allbullet[i].form!=<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;eTank.<span class="built_in">size</span>();j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(eTank[j].posx==allbullet[i].posx&amp;&amp;eTank[j].posy==allbullet[i].posy)</span><br><span class="line">                    &#123;</span><br><span class="line">                        allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                        excute=<span class="number">1</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;eTank.<span class="built_in">size</span>();j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(eTank[j].posx==allbullet[i].posx&amp;&amp;eTank[j].posy==allbullet[i].posy)</span><br><span class="line">                    &#123;</span><br><span class="line">                        eTank[j].health--;</span><br><span class="line">                        <span class="keyword">if</span>(eTank[j].health==<span class="number">0</span>)</span><br><span class="line">                        &#123;</span><br><span class="line">                            explose e&#123;eTank[j].posx,eTank[j].posy&#125;;</span><br><span class="line">                            exp.<span class="built_in">push_back</span>(e);</span><br><span class="line">                            eTank.<span class="built_in">erase</span>(eTank.<span class="built_in">begin</span>()+j);</span><br><span class="line">                            enemyleft--;</span><br><span class="line">                            <span class="keyword">if</span>(enemyleft==<span class="number">0</span>)</span><br><span class="line">                            &#123;</span><br><span class="line">                                GAME=<span class="number">2</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                        excute=<span class="number">1</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(excute==<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(allbullet[i].form==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(player.posx==allbullet[i].posx&amp;&amp;player.posy==allbullet[i].posy)</span><br><span class="line">                &#123;</span><br><span class="line">                    allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                    excute=<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(player.posx==allbullet[i].posx&amp;&amp;player.posy==allbullet[i].posy)</span><br><span class="line">                &#123;</span><br><span class="line">                    player.health--;</span><br><span class="line">                    <span class="keyword">if</span>(player.health==<span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                      GAME=<span class="number">0</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                    excute=<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(excute==<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(allbullet[i].direction==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(allbullet[i].posy<span class="number">-1</span>&gt;=<span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(mmap[allbullet[i].posx][allbullet[i].posy<span class="number">-1</span>]==GRASS||mmap[allbullet[i].posx][allbullet[i].posy<span class="number">-1</span>]==WATER||mmap[allbullet[i].posx][allbullet[i].posy<span class="number">-1</span>]==EMPTY)</span><br><span class="line">                    &#123;</span><br><span class="line">                        allbullet[i].posy-=<span class="number">1</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(mmap[allbullet[i].posx][allbullet[i].posy<span class="number">-1</span>]==IRON)</span><br><span class="line">                    &#123;</span><br><span class="line">                        allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(mmap[allbullet[i].posx][allbullet[i].posy<span class="number">-1</span>]==BRICK)</span><br><span class="line">                    &#123;</span><br><span class="line">                        mmap[allbullet[i].posx][allbullet[i].posy<span class="number">-1</span>]=EMPTY;</span><br><span class="line">                        allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(mmap[allbullet[i].posx][allbullet[i].posy<span class="number">-1</span>]==HOME)</span><br><span class="line">                    &#123;</span><br><span class="line">                        GAME=<span class="number">0</span>;</span><br><span class="line">                        <span class="built_in">repaint</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(allbullet[i].direction==<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(allbullet[i].posx+<span class="number">1</span>&lt;<span class="number">26</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(mmap[allbullet[i].posx+<span class="number">1</span>][allbullet[i].posy]==GRASS||mmap[allbullet[i].posx+<span class="number">1</span>][allbullet[i].posy]==WATER||mmap[allbullet[i].posx+<span class="number">1</span>][allbullet[i].posy]==EMPTY)</span><br><span class="line">                    &#123;</span><br><span class="line">                        allbullet[i].posx+=<span class="number">1</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(mmap[allbullet[i].posx+<span class="number">1</span>][allbullet[i].posy]==IRON)</span><br><span class="line">                    &#123;</span><br><span class="line">                        allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(mmap[allbullet[i].posx+<span class="number">1</span>][allbullet[i].posy]==BRICK)</span><br><span class="line">                    &#123;</span><br><span class="line">                        mmap[allbullet[i].posx+<span class="number">1</span>][allbullet[i].posy]=EMPTY;</span><br><span class="line">                        allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(mmap[allbullet[i].posx+<span class="number">1</span>][allbullet[i].posy]==HOME)</span><br><span class="line">                    &#123;</span><br><span class="line">                        GAME=<span class="number">0</span>;</span><br><span class="line">                        <span class="built_in">repaint</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(allbullet[i].direction==<span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(allbullet[i].posy+<span class="number">1</span>&lt;<span class="number">26</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(mmap[allbullet[i].posx][allbullet[i].posy+<span class="number">1</span>]==GRASS||mmap[allbullet[i].posx][allbullet[i].posy+<span class="number">1</span>]==WATER||mmap[allbullet[i].posx][allbullet[i].posy+<span class="number">1</span>]==EMPTY)</span><br><span class="line">                    &#123;</span><br><span class="line">                        allbullet[i].posy+=<span class="number">1</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(mmap[allbullet[i].posx][allbullet[i].posy+<span class="number">1</span>]==IRON)</span><br><span class="line">                    &#123;</span><br><span class="line">                        allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(mmap[allbullet[i].posx][allbullet[i].posy+<span class="number">1</span>]==BRICK)</span><br><span class="line">                    &#123;</span><br><span class="line">                        mmap[allbullet[i].posx][allbullet[i].posy+<span class="number">1</span>]=EMPTY;</span><br><span class="line">                        allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(mmap[allbullet[i].posx][allbullet[i].posy+<span class="number">1</span>]==HOME)</span><br><span class="line">                    &#123;</span><br><span class="line">                        GAME=<span class="number">0</span>;</span><br><span class="line">                        <span class="built_in">repaint</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(allbullet[i].direction==<span class="number">3</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(allbullet[i].posx<span class="number">-1</span>&gt;=<span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(mmap[allbullet[i].posx<span class="number">-1</span>][allbullet[i].posy]==GRASS||mmap[allbullet[i].posx<span class="number">-1</span>][allbullet[i].posy]==WATER||mmap[allbullet[i].posx<span class="number">-1</span>][allbullet[i].posy]==EMPTY)</span><br><span class="line">                    &#123;</span><br><span class="line">                        allbullet[i].posx-=<span class="number">1</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(mmap[allbullet[i].posx<span class="number">-1</span>][allbullet[i].posy]==IRON)</span><br><span class="line">                    &#123;</span><br><span class="line">                        allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(mmap[allbullet[i].posx<span class="number">-1</span>][allbullet[i].posy]==BRICK)</span><br><span class="line">                    &#123;</span><br><span class="line">                        mmap[allbullet[i].posx<span class="number">-1</span>][allbullet[i].posy]=EMPTY;</span><br><span class="line">                        allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(mmap[allbullet[i].posx<span class="number">-1</span>][allbullet[i].posy]==HOME)</span><br><span class="line">                    &#123;</span><br><span class="line">                        GAME=<span class="number">0</span>;</span><br><span class="line">                        <span class="built_in">repaint</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;allbullet.<span class="built_in">size</span>();j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>((allbullet[i].posx==allbullet[j].posx&amp;&amp;allbullet[i].posy==allbullet[j].posy)||(allbullet[i].posx==allbullet[j].posx&amp;&amp;(allbullet[i].posy-allbullet[j].posy==<span class="number">1</span>||allbullet[i].posy-allbullet[j].posy==<span class="number">-1</span>)&amp;&amp;((allbullet[j].direction==<span class="number">0</span>&amp;&amp;allbullet[i].direction==<span class="number">2</span>)||(allbullet[j].direction==<span class="number">2</span>&amp;&amp;allbullet[i].direction==<span class="number">0</span>)))||(allbullet[i].posy==allbullet[j].posy&amp;&amp;(allbullet[i].posx-allbullet[j].posx==<span class="number">1</span>||allbullet[i].posx-allbullet[j].posx==<span class="number">-1</span>)&amp;&amp;((allbullet[j].direction==<span class="number">1</span>&amp;&amp;allbullet[i].direction==<span class="number">3</span>)||(allbullet[j].direction==<span class="number">3</span>&amp;&amp;allbullet[i].direction==<span class="number">1</span>))))</span><br><span class="line">                &#123;</span><br><span class="line">                     allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+j);</span><br><span class="line">                     allbullet.<span class="built_in">erase</span>(allbullet.<span class="built_in">begin</span>()+i);</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(event-&gt;<span class="built_in">timerId</span>()==CD&amp;&amp;player.attacking==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        player.attacking=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(event-&gt;<span class="built_in">timerId</span>()==MOVING&amp;&amp;player.moving==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        player.moving=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(event-&gt;<span class="built_in">timerId</span>()==ENEMYMOVE)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;eTank.<span class="built_in">size</span>();i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(eTank[i].start&lt;=<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                eTank[i].<span class="built_in">emove</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(event-&gt;<span class="built_in">timerId</span>()==POWER)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(player.start&gt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            player.ingrass=!player.ingrass;</span><br><span class="line">            player.start--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(player.start==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            player.ingrass=<span class="number">0</span>;</span><br><span class="line">            player.start--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;eTank.<span class="built_in">size</span>();i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(eTank[i].start&gt;<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                eTank[i].ingrass=<span class="number">1</span>;</span><br><span class="line">                eTank[i].start--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(eTank[i].start==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                eTank[i].ingrass=<span class="number">0</span>;</span><br><span class="line">                eTank[i].start--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(event-&gt;<span class="built_in">timerId</span>()==EXPLOSE)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;exp.<span class="built_in">size</span>();i++)</span><br><span class="line">        &#123;</span><br><span class="line">            exp[i].idx++;</span><br><span class="line">            <span class="keyword">if</span>(exp[i].idx&gt;<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                exp.<span class="built_in">erase</span>(exp.<span class="built_in">begin</span>()+i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">repaint</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::keyPressEvent</span><span class="params">(QKeyEvent *event)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> input=event-&gt;<span class="built_in">key</span>();</span><br><span class="line">    <span class="keyword">if</span>(input==Qt::Key_W)</span><br><span class="line">    &#123;</span><br><span class="line">        player.idex=UP;</span><br><span class="line">        <span class="keyword">if</span>(player.posy<span class="number">-1</span>&gt;=<span class="number">0</span>&amp;&amp;<span class="built_in">block</span>(player.posx,player.posy<span class="number">-1</span>)&amp;&amp;player.moving==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            player.posy-=<span class="number">1</span>;</span><br><span class="line">            player.moving=<span class="number">1</span>;</span><br><span class="line">            MOVING=<span class="built_in">startTimer</span>(<span class="number">90</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(mmap[player.posx][player.posy]==GRASS)</span><br><span class="line">        &#123;</span><br><span class="line">            player.ingrass=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(mmap[player.posx][player.posy]==EMPTY)</span><br><span class="line">        &#123;</span><br><span class="line">            player.ingrass=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(input==Qt::Key_D)</span><br><span class="line">    &#123;</span><br><span class="line">        player.idex=RIGHT;</span><br><span class="line">        <span class="keyword">if</span>(player.posx+<span class="number">1</span>&lt;<span class="number">26</span>&amp;&amp;<span class="built_in">block</span>(player.posx+<span class="number">1</span>,player.posy)&amp;&amp;player.moving==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            player.posx+=<span class="number">1</span>;</span><br><span class="line">            player.moving=<span class="number">1</span>;</span><br><span class="line">            MOVING=<span class="built_in">startTimer</span>(<span class="number">90</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(mmap[player.posx][player.posy]==GRASS)</span><br><span class="line">        &#123;</span><br><span class="line">            player.ingrass=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(mmap[player.posx][player.posy]==EMPTY)</span><br><span class="line">        &#123;</span><br><span class="line">            player.ingrass=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(input==Qt::Key_S)</span><br><span class="line">    &#123;</span><br><span class="line">        player.idex=DOWN;</span><br><span class="line">        <span class="keyword">if</span>(player.posy+<span class="number">1</span>&lt;<span class="number">26</span>&amp;&amp;<span class="built_in">block</span>(player.posx,player.posy+<span class="number">1</span>)&amp;&amp;player.moving==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            player.posy+=<span class="number">1</span>;</span><br><span class="line">            player.moving=<span class="number">1</span>;</span><br><span class="line">            MOVING=<span class="built_in">startTimer</span>(<span class="number">90</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(mmap[player.posx][player.posy]==GRASS)</span><br><span class="line">        &#123;</span><br><span class="line">            player.ingrass=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(mmap[player.posx][player.posy]==EMPTY)</span><br><span class="line">        &#123;</span><br><span class="line">            player.ingrass=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(input==Qt::Key_A)</span><br><span class="line">    &#123;</span><br><span class="line">        player.idex=LEFT;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(player.posx<span class="number">-1</span>&gt;=<span class="number">0</span>&amp;&amp;<span class="built_in">block</span>(player.posx<span class="number">-1</span>,player.posy)&amp;&amp;player.moving==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            player.posx-=<span class="number">1</span>;</span><br><span class="line">            player.moving=<span class="number">1</span>;</span><br><span class="line">            MOVING=<span class="built_in">startTimer</span>(<span class="number">90</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(mmap[player.posx][player.posy]==GRASS)</span><br><span class="line">        &#123;</span><br><span class="line">            player.ingrass=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(mmap[player.posx][player.posy]==EMPTY)</span><br><span class="line">        &#123;</span><br><span class="line">            player.ingrass=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(input==Qt::Key_Space&amp;&amp;player.attacking==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">           player.attacking=<span class="number">1</span>;</span><br><span class="line">           player.<span class="built_in">shoot</span>();</span><br><span class="line">           CD=<span class="built_in">startTimer</span>(<span class="number">600</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">repaint</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">block</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(mmap[x][y]==GRASS||mmap[x][y]==EMPTY)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Tank::<span class="built_in">Tank</span>()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">Tank::<span class="built_in">Tank</span>(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> index)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> type=<span class="built_in">rand</span>()%<span class="number">3</span>+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">this</span>-&gt;posx=x;</span><br><span class="line">    <span class="keyword">this</span>-&gt;posy=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(type==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;type=type;</span><br><span class="line">        <span class="keyword">this</span>-&gt;idex=index;</span><br><span class="line">        <span class="keyword">this</span>-&gt;health=<span class="number">1</span>;</span><br><span class="line">        <span class="function">QPixmap <span class="title">temp</span><span class="params">(QString(<span class="string">&quot;:/new/prefix1/Graphics/Enemys.bmp&quot;</span>))</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            QPixmap temp1=temp.<span class="built_in">copy</span>(<span class="number">0</span>,i*<span class="number">28</span>,<span class="number">28</span>,<span class="number">28</span>);</span><br><span class="line">            <span class="keyword">this</span>-&gt;direction[i]=temp1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(type==<span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;idex=index;</span><br><span class="line">        <span class="keyword">this</span>-&gt;health=<span class="number">2</span>;</span><br><span class="line">        <span class="function">QPixmap <span class="title">temp</span><span class="params">(QString(<span class="string">&quot;:/new/prefix1/Graphics/Enemys.bmp&quot;</span>))</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            QPixmap temp1=temp.<span class="built_in">copy</span>(<span class="number">56</span>,i*<span class="number">28</span>,<span class="number">28</span>,<span class="number">28</span>);</span><br><span class="line">            <span class="keyword">this</span>-&gt;direction[i]=temp1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;type=type;</span><br><span class="line">        <span class="keyword">this</span>-&gt;idex=index;</span><br><span class="line">        <span class="keyword">this</span>-&gt;health=<span class="number">3</span>;</span><br><span class="line">        <span class="function">QPixmap <span class="title">temp</span><span class="params">(QString(<span class="string">&quot;:/new/prefix1/Graphics/Enemys.bmp&quot;</span>))</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            QPixmap temp1=temp.<span class="built_in">copy</span>(<span class="number">6</span>*<span class="number">28</span>,(i+<span class="number">4</span>)*<span class="number">28</span>,<span class="number">28</span>,<span class="number">28</span>);</span><br><span class="line">            <span class="keyword">this</span>-&gt;direction[i]=temp1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Tank::<span class="built_in">Tank</span>(<span class="keyword">int</span> ty)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;type=ty;</span><br><span class="line">    <span class="keyword">this</span>-&gt;posx=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">this</span>-&gt;posy=<span class="number">25</span>;</span><br><span class="line">    <span class="keyword">this</span>-&gt;idex=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>-&gt;health=<span class="number">3</span>;</span><br><span class="line">    <span class="function">QPixmap <span class="title">temp</span><span class="params">(QString(<span class="string">&quot;:/new/prefix1/Graphics/Player2.bmp&quot;</span>))</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        QPixmap temp1=temp.<span class="built_in">copy</span>(<span class="number">0</span>,i*<span class="number">28</span>,<span class="number">28</span>,<span class="number">28</span>);</span><br><span class="line">        <span class="keyword">this</span>-&gt;direction[i]=temp1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Tank::~<span class="built_in">Tank</span>()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Tank::emove</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">int</span> act=<span class="built_in">rand</span>()%<span class="number">10</span>,shoo=<span class="built_in">rand</span>()%<span class="number">10</span>;</span><br><span class="line">   <span class="keyword">if</span>(act&lt;<span class="number">3</span>)</span><br><span class="line">   &#123;</span><br><span class="line">       <span class="keyword">this</span>-&gt;idex=<span class="built_in">rand</span>()%<span class="number">4</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">       <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;idex==UP)</span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;posy<span class="number">-1</span>&gt;=<span class="number">0</span>)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">if</span>(<span class="built_in">block</span>(<span class="keyword">this</span>-&gt;posx,<span class="keyword">this</span>-&gt;posy<span class="number">-1</span>))</span><br><span class="line">               &#123;</span><br><span class="line">                   <span class="keyword">this</span>-&gt;posy-=<span class="number">1</span>;</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">else</span></span><br><span class="line">               &#123;</span><br><span class="line">                   <span class="keyword">this</span>-&gt;idex=<span class="built_in">rand</span>()%<span class="number">4</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">           <span class="keyword">if</span>(mmap[<span class="keyword">this</span>-&gt;posx][<span class="keyword">this</span>-&gt;posy]==GRASS)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">this</span>-&gt;ingrass=<span class="number">1</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span> <span class="keyword">if</span>(mmap[<span class="keyword">this</span>-&gt;posx][<span class="keyword">this</span>-&gt;posy]==EMPTY)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">this</span>-&gt;ingrass=<span class="number">0</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;idex==RIGHT)</span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;posx+<span class="number">1</span>&lt;<span class="number">26</span>)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">if</span>(<span class="built_in">block</span>(<span class="keyword">this</span>-&gt;posx+<span class="number">1</span>,<span class="keyword">this</span>-&gt;posy))</span><br><span class="line">               &#123;</span><br><span class="line">                <span class="keyword">this</span>-&gt;posx+=<span class="number">1</span>;</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">else</span></span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="keyword">this</span>-&gt;idex=<span class="built_in">rand</span>()%<span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span>(mmap[<span class="keyword">this</span>-&gt;posx][<span class="keyword">this</span>-&gt;posy]==GRASS)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">this</span>-&gt;ingrass=<span class="number">1</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span> <span class="keyword">if</span>(mmap[<span class="keyword">this</span>-&gt;posx][<span class="keyword">this</span>-&gt;posy]==EMPTY)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">this</span>-&gt;ingrass=<span class="number">0</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;idex==DOWN)</span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;posy+<span class="number">1</span>&lt;<span class="number">26</span>)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">if</span>(<span class="built_in">block</span>(<span class="keyword">this</span>-&gt;posx,<span class="keyword">this</span>-&gt;posy+<span class="number">1</span>))</span><br><span class="line">               &#123;</span><br><span class="line">                   <span class="keyword">this</span>-&gt;posy+=<span class="number">1</span>;</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">else</span></span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="keyword">this</span>-&gt;idex=<span class="built_in">rand</span>()%<span class="number">4</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span>(mmap[<span class="keyword">this</span>-&gt;posx][<span class="keyword">this</span>-&gt;posy]==GRASS)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">this</span>-&gt;ingrass=<span class="number">1</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span> <span class="keyword">if</span>(mmap[<span class="keyword">this</span>-&gt;posx][<span class="keyword">this</span>-&gt;posy]==EMPTY)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">this</span>-&gt;ingrass=<span class="number">0</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;idex==LEFT)</span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;posx<span class="number">-1</span>&gt;=<span class="number">0</span>)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">if</span>(<span class="built_in">block</span>(<span class="keyword">this</span>-&gt;posx<span class="number">-1</span>,<span class="keyword">this</span>-&gt;posy))</span><br><span class="line">               &#123;</span><br><span class="line">                   <span class="keyword">this</span>-&gt;posx-=<span class="number">1</span>;</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">else</span></span><br><span class="line">               &#123;</span><br><span class="line">                   <span class="keyword">this</span>-&gt;idex=<span class="built_in">rand</span>()%<span class="number">4</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span>(mmap[<span class="keyword">this</span>-&gt;posx][<span class="keyword">this</span>-&gt;posy]==GRASS)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">this</span>-&gt;ingrass=<span class="number">1</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span> <span class="keyword">if</span>(mmap[<span class="keyword">this</span>-&gt;posx][<span class="keyword">this</span>-&gt;posy]==EMPTY)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">this</span>-&gt;ingrass=<span class="number">0</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span>(shoo&lt;<span class="number">3</span>)</span><br><span class="line">   &#123;</span><br><span class="line">       <span class="keyword">this</span>-&gt;<span class="built_in">shoot</span>();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Tank::shoot</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;idex==UP)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;posy!=<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                bullet temp&#123;<span class="keyword">this</span>-&gt;posx,<span class="keyword">this</span>-&gt;posy<span class="number">-1</span>,<span class="keyword">this</span>-&gt;idex,<span class="keyword">this</span>-&gt;type&#125;;</span><br><span class="line">                allbullet.<span class="built_in">push_back</span>(temp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;idex==RIGHT)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;posx!=<span class="number">25</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                bullet temp&#123;<span class="keyword">this</span>-&gt;posx+<span class="number">1</span>,<span class="keyword">this</span>-&gt;posy,<span class="keyword">this</span>-&gt;idex,<span class="keyword">this</span>-&gt;type&#125;;</span><br><span class="line">                allbullet.<span class="built_in">push_back</span>(temp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;idex==DOWN)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;posy!=<span class="number">25</span>)</span><br><span class="line">            &#123;</span><br><span class="line">            bullet temp&#123;<span class="keyword">this</span>-&gt;posx,<span class="keyword">this</span>-&gt;posy+<span class="number">1</span>,<span class="keyword">this</span>-&gt;idex,<span class="keyword">this</span>-&gt;type&#125;;</span><br><span class="line">            allbullet.<span class="built_in">push_back</span>(temp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;idex==LEFT)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;posx!=<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                bullet temp&#123;<span class="keyword">this</span>-&gt;posx<span class="number">-1</span>,<span class="keyword">this</span>-&gt;posy,<span class="keyword">this</span>-&gt;idex,<span class="keyword">this</span>-&gt;type&#125;;</span><br><span class="line">                allbullet.<span class="built_in">push_back</span>(temp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


    </div>

    <div class="about">
        <h1>关于本文</h1>
        <p>本文作者 Edmond Adams, 许可由 <a
                target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc/4.0">CC BY-NC 4.0</a>.</p>
    </div>

    
        
    
</article>
        <footer>
    <div class="inner">
        <div class="links">
            
            <div class="group">
                <h4 class="title">Blog</h4>
                
                <a href="/" class="item">Blog</a>
                
                <a href="/archives" class="item">Archives</a>
                
                <a href="/projects" class="item">Projects</a>
                
                <a href="/about" class="item">About</a>
                
            </div>
            
            <div class="group">
                <h4 class="title">Projects</h4>
                
                <a target="_blank" rel="noopener" href="https://github.com/geek-player-union/JumpChess" class="item">JumpChess</a>
                
                <a target="_blank" rel="noopener" href="https://github.com/Edmond-J-A/RemindMeEveryday" class="item">RemindMeEveryday</a>
                
                <a target="_blank" rel="noopener" href="https://github.com/Edmond-J-A/Tank" class="item">Tank Game</a>
                
            </div>
            
            <div class="group">
                <h4 class="title">Me</h4>
                
                <a target="_blank" rel="noopener" href="https://github.com/edmond-j-a" class="item">GitHub</a>
                
                <a href="mailto:edomondja@gmail.com" class="item">Email</a>
                
            </div>
            
        </div>
        <span>&copy; 2022 Edmond Adams<br >驱动由 <a href="http://hexo.io/" target="_blank">Hexo</a></span>
        
            <br>
            <div class="color-scheme-toggle" role="radiogroup" id="theme-color-scheme-toggle">
                <label>
                    <input type="radio" value="light">
                    <span>Light</span>
                </label>
                <label>
                    <input type="radio" value="dark">
                    <span>Dark</span>
                </label>
                <label>
                    <input type="radio" value="auto">
                    <span>Auto</span>
                </label>
            </div>
        
    </div>
</footer>


        
<script src="/js/main.js"></script>

        
    </body>
</html>